import axios from "axios";
export const getIdentity = async (options) => {
    const apiKey = options?.yagnaOptions?.apiKey || process.env.YAGNA_APPKEY;
    if (!apiKey)
        throw new Error("Api key not defined");
    const basePath = options?.yagnaOptions?.basePath || process.env.YAGNA_API_URL || "http://127.0.0.1:7465";
    const apiUrl = `${basePath}/me`;
    const { data: { identity }, } = await axios.get(apiUrl, {
        headers: { authorization: `Bearer ${apiKey}` },
    });
    return identity;
};
//# sourceMappingURL=identity.js.map